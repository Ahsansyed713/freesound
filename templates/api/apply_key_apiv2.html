{% extends "accounts/_section.html" %}


{% block title %}{{user.username}} - ApiV2 access credentials{% endblock %}

{% block section_content %}
    <h1>Your ApiV2 access credentials</h1>

    <h3>Existing credentials</h3>

    <table>
    <tr><th>App name</th><th>Client id</th><th>Client secret</th><th>Status</th><th>Scope</th><th>Redirect uri</th></tr>
    {% for key in user.apiv2_client.all %}
        <tr><td>{{ key.name }}</td><td>{{ key.client_id }}</td><td>{{ key.client_secret }}</td><td>{{ key.status }}</td><td>{{ key.get_scope_display }}</td><td>{{ key.redirect_uri }}</td></tr>
    {% endfor %}
    </table>
    
    <h3>Get credentials for a new application</h3>
    
    <form action="" method="post" enctype="multipart/form-data">
    
        {% csrf_token %}
        <table>
            {{ form.as_table }}
        </table>
        <input type="submit" name="submit" value="Request access credentials" id="submit">
    </form>
    

{% endblock %}