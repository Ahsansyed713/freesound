package  {    import flash.display.Sprite;    import flash.events.MouseEvent;        /**     * @author bram     */    [SWF( backgroundColor='0xffffff', width='900', height='200')]    public class Flash10Player extends Sprite implements ISoundManagerObserver    {        private var _soundDisplay : SoundDisplay;        private var _baseUrl : String, _waveformUrl : String, _spectralUrl : String, _soundUrl : String;        private var _sound : BasicSoundManager;        public function Flash10Player()        {            _baseUrl = "../media/";            _waveformUrl = "waveform.png";            _spectralUrl = "spectral.jpg";            _soundUrl = "preview.mp3";        	            buildUi();            addEventListener(MouseEvent.CLICK, loadAndPlay);        }        private function buildUi() : void        {            _soundDisplay = new SoundDisplay(900, 149, _baseUrl + _waveformUrl, _baseUrl + _spectralUrl);            _soundDisplay.x = 5;            _soundDisplay.y = 5;            addChild(_soundDisplay);        }        private function loadAndPlay(e : MouseEvent) : void        {            if (!_sound)            {                _sound = new BasicSoundManager(_baseUrl + _soundUrl);                                _sound.addSoundManagerObserver(this);            }        	            if (_sound.playing)            {                _sound.stop();            }        	else            {                _sound.loop = true;                _sound.play();            }        }        public function onSoundManagerLoading( progress : Number ) : void        {        	_soundDisplay.setLoading(progress);        };        public function onSoundManagerError( errorMsg : String ) : void        {        	// TODO...        };        public function onSoundManagerLoaded() : void        {            _soundDisplay.setLoading(1.0);        };        public function onSoundManagerPlay() : void        {        	// todo        };        public function onSoundManagerPlaying( position : Number ) : void        {        	_soundDisplay.setPlaying(position);        };        public function onSoundManagerPause() : void        {        };        public function onSoundManagerStop() : void        {        };    }}